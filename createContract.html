<!DOCTYPE HTML>
<html>
<head>
  <title>Government login</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
  <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}">

<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.34/dist/web3.min.js"></script>
</head>

<body>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

  <div id="main">
    <div id="header">
      <div id="logo">
        <div id="logo_text">
          <!-- class="logo_colour", allows you to change the colour of the text -->
          <h1><b><a href="index.html">Pace<span class="logo_colour">Pay</span></a></b></h1>
          <h2><b>A step towards open governance</b></h2>
        </div>
      </div>
      <div id="menubar">
        <ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li><a href="{{url_for('home')}}">Home</a></li>
          <li class="selected"><a href="{{url_for('gov_reg')}}">Government Login</a></li>
          <li><a href="{{url_for('cont_reg')}}">Contractor Login</a></li>
          <li><a href="{{url_for('ver_login')}}">Verifier Login</a></li>
          <li><a href="{{url_for('tenders')}}">View Tenders</a></li>
        </ul>
      </div>
      <div style="margin-left: 29.25vw; margin-top:20px">
             <h2><b>Create contract</b></h2>
   
      </div>
     
    </div><br>
    <div style="margin-left: 45vw;  "><p style="margin-right: 12vw;font-size: 1.5vw; color: #E7746F"><b>Create Contract:</b></p></div>
    <div style=" margin-top:1vw;  font-size: 1.5vw ; border: 1px solid white; margin-left: 35.5vw; width:30vw ;border: 1px solid">
      
             <br>
      <form  style="margin-left: 2vw; font-size: 1vw" method="POST" action="{{url_for('create')}}">
        <!-- <p style="margin-right: 12vw; font-size: 1vw;">Key:</p>
        <input type="text" name="id" style=" width:20vw; height:1.5vw;  " required="true">
        <br> -->
        <br>
        <b>Catagory:</b><br>

        1. Goods <input type="radio" name="catagory" value="goods" ><br>
        <br>

        2. Services<input type="radio" name="catagory" value="services"><br>
        <br>

        3. works <input type="radio" name="catagory" value="works"><br>
        <br>
        <br>
        Tender Sector:<br>
        <input type="text" name="tender_sector" required="true" style=" width:20vw; height:1.5vw; " id="t_sector" required="true"><br><br>
        location:<br>
        <input type="text" name="location" required="true" style=" width:20vw; height:1.5vw; " id="location" required="true"><br><br>
        Tender Value:<br>
        <input type="number" name="tender_val" style=" width:20vw; height:1.5vw; " id="t_value" required="true"><br><br>
        Reference Number:<br>
        <input type="number" name="ref_num" style=" width:20vw; height:1.5vw; " id="r_num" required="true"><br><br>
        Opening Date:<br>
        <input type="Date" name="opening_date" style=" width:20vw; height:1.5vw; " id="o_date" required="true"> <br><br>
        Closing Date:<br>
        <input type="Date" name="closing_date" style=" width:20vw; height:1.5vw; " id="c_date" required="true"><br><br>
        <!-- Address Contract:<br>
        <input type="text" name="add_contract" style=" width:20vw; height:1.5vw; " required="true"><br><br> -->
        <input type="submit" name="Login" value="submit" id="t_submit" style=" background-color: #E7746F;width:5vw; height:2vw; color: white">
        <br>

      </form>
        <br>
    </div>



    <script> //src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.34/dist/web3.min.js">


     // import { writeFileSync, readFileSync } from 'fs';
      var web3 = new Web3(new Web3.providers.HttpProvider("HTTP://127.0.0.1:7545"));
      $("#t_submit").click(function(){
        var Sector = document.getElementById('t_sector');
        var Location = document.getElementById('location');
        var Number_num = document.getElementById('t_value');
        var RefNum = document.getElementById('r_num');
        var Opening_Date = document.getElementById('o_date');
        var Closing_Date= document.getElementById('c_date');
        const myContract = new web3.eth.Contract([{"constant": true,"inputs": [],"name": "startDate","outputs": [{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "bidder","type": "address"}],"name": "verifyBidder","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "tenderMinVal","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "tenderSector","outputs": [{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "location","outputs": [{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"name": "","type": "uint256"}],"name": "bidAddress","outputs": [{"name": "bidder","type": "address"},{"name": "val","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [],"name": "sort","outputs": [{"components": [{"name": "bidder","type": "address"},{"name": "val","type": "uint256"}],"name": "","type": "tuple"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "owner","outputs": [{"name": "","type": "address"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"name": "_bidPrice","type": "uint256"}],"name": "performBid","outputs": [{"name": "","type": "bool"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "refNumber","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [],"name": "getbidder","outputs": [{"name": "","type": "address[]"},{"name": "","type": "uint256[]"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [],"name": "setWinner","outputs": [{"name": "","type": "address"},{"name": "","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"},{"inputs": [{"name": "_tenderSector","type": "string"},{"name": "_location","type": "string"},{"name": "val","type": "uint256"},{"name": "refNo","type": "uint256"},{"name": "_startDate","type": "string"}],"payable": false,"stateMutability": "nonpayable","type": "constructor"},{"anonymous": false,"inputs": [{"indexed": false,"name": "bidder_address","type": "address[]"},{"indexed": false,"name": "val_int","type": "uint256[]"}],"name": "GetBidder","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"name": "_address","type": "address"},{"indexed": false,"name": "_value","type": "uint256"}],"name": "Winner","type": "event"}], web3.eth.accounts[0]);
myContract.deploy({
       data: '0x60806040523480156200001157600080fd5b5060405162000e2d38038062000e2d8339810180604052620000379190810190620001b6565b60068054600160a060020a0319163317905584516200005e906001906020880190620000a0565b50835162000074906002906020870190620000a0565b5060038390556004829055805162000094906005906020840190620000a0565b505050505050620002ff565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620000e357805160ff191683800117855562000113565b8280016001018555821562000113579182015b8281111562000113578251825591602001919060010190620000f6565b506200012192915062000125565b5090565b6200014291905b808211156200012157600081556001016200012c565b90565b6000601f820183136200015757600080fd5b81516200016e6200016882620002a4565b6200027d565b915080825260208301602083018583830111156200018b57600080fd5b62000198838284620002cc565b50505092915050565b6000620001af825162000142565b9392505050565b600080600080600060a08688031215620001cf57600080fd5b85516001604060020a03811115620001e657600080fd5b620001f48882890162000145565b95505060208601516001604060020a038111156200021157600080fd5b6200021f8882890162000145565b94505060406200023288828901620001a1565b93505060606200024588828901620001a1565b92505060808601516001604060020a038111156200026257600080fd5b620002708882890162000145565b9150509295509295909350565b6040518181016001604060020a03811182821017156200029c57600080fd5b604052919050565b60006001604060020a03821115620002bb57600080fd5b506020601f91909101601f19160190565b60005b83811015620002e9578181015183820152602001620002cf565b83811115620002f9576000848401525b50505050565b610b1e806200030f6000396000f3006080604052600436106100b95763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630b97bc8681146100be5780634555e293146100e957806348976a231461010b5780634a7b9d9d1461012d578063516f279e1461014257806363be1b52146101575780638cdc86a6146101855780638da5cb5b146101a7578063c737f388146101c9578063cc3be3de146101f6578063e8916c331461020b578063ed05084e1461022e575b600080fd5b3480156100ca57600080fd5b506100d3610243565b6040516100e09190610a63565b60405180910390f35b3480156100f557600080fd5b50610109610104366004610899565b6102d1565b005b34801561011757600080fd5b50610120610330565b6040516100e09190610a82565b34801561013957600080fd5b506100d3610336565b34801561014e57600080fd5b506100d3610390565b34801561016357600080fd5b506101776101723660046108bf565b6103e8565b6040516100e0929190610a15565b34801561019157600080fd5b5061019a61041e565b6040516100e09190610a74565b3480156101b357600080fd5b506101bc610543565b6040516100e09190610a01565b3480156101d557600080fd5b506101e96101e43660046108bf565b610552565b6040516100e09190610a55565b34801561020257600080fd5b50610120610653565b34801561021757600080fd5b50610220610659565b6040516100e0929190610a30565b34801561023a57600080fd5b50610177610790565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156102c95780601f1061029e576101008083540402835291602001916102c9565b820191906000526020600020905b8154815290600101906020018083116102ac57829003601f168201915b505050505081565b600780546001810182556000919091527fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68801805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60035481565b60018054604080516020600284861615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156102c95780601f1061029e576101008083540402835291602001916102c9565b6002805460408051602060018416156101000260001901909316849004601f810184900484028201840190925281815292918301828280156102c95780601f1061029e576101008083540402835291602001916102c9565b60088054829081106103f657fe5b600091825260209091206002909102018054600190910154600160a060020a03909116915082565b610426610863565b61042e610863565b6000806008600081548110151561044157fe5b60009182526020808320604080518082019091526002909302018054600160a060020a031683526001015490820152600880549195509190811061048157fe5b9060005260206000209060020201600101549150600190505b60085481101561053b57816008828154811015156104b457fe5b90600052602060002090600202016001015411156105335760088054829081106104da57fe5b90600052602060002090600202016001015491506008818154811015156104fd57fe5b6000918252602091829020604080518082019091526002909202018054600160a060020a03168252600101549181019190915292505b60010161049a565b509092915050565b600654600160a060020a031681565b60008061055e3361080e565b1561064d573360009081526020819052604090205460ff1615156001141561058557600080fd5b600354831161059357600080fd5b50506008805460408051808201825233808252602080830187815260018087018855600097885293517ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee360028802908101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039093169290921790915590517ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee4909101559085528490529220805460ff191683179055600019015b50919050565b60045481565b606080606080600080600880549050604051908082528060200260200182016040528015610691578160200160208202803883390190505b5060085460408051828152602080840282010190915291955080156106c0578160200160208202803883390190505b509250600091505b60085482101561074c5760088054839081106106e057fe5b6000918252602090912060029091020180548551919250600160a060020a03169085908490811061070d57fe5b600160a060020a039092166020928302909101909101526001810154835184908490811061073757fe5b602090810290910101526001909101906106c8565b7f3a0075e14f0c855537a86f3c0a3254f85144bebe2480294a018e94a198dd55f9848460405161077d929190610a30565b60405180910390a1509194909350915050565b60008061079b610863565b600654600160a060020a031633146107b257600080fd5b6107ba61041e565b90507f9c2270628a9b29d30ae96b6c4c14ed646ee134febdce38a5b77f2bde9cea2e20816000015182602001516040516107f5929190610a15565b60405180910390a1805160208201519093509150509091565b6000805b60075481101561085a57600780548290811061082a57fe5b600091825260209091200154600160a060020a0384811691161415610852576001915061064d565b600101610812565b50600092915050565b604080518082019091526000808252602082015290565b60006108868235610a9a565b9392505050565b60006108868235610aab565b6000602082840312156108ab57600080fd5b60006108b7848461087a565b949350505050565b6000602082840312156108d157600080fd5b60006108b7848461088d565b6108e681610a9a565b82525050565b60006108f782610a96565b80845260208401935061090983610a90565b60005b828110156109395761091f8683516108dd565b61092882610a90565b60209690960195915060010161090c565b5093949350505050565b600061094e82610a96565b80845260208401935061096083610a90565b60005b82811015610939576109768683516109f8565b61097f82610a90565b602096909601959150600101610963565b6108e681610aa6565b60006109a482610a96565b8084526109b8816020860160208601610aae565b6109c181610ada565b9093016020019392505050565b805160408301906109df84826108dd565b5060208201516109f260208501826109f8565b50505050565b6108e681610aab565b60208101610a0f82846108dd565b92915050565b60408101610a2382856108dd565b61088660208301846109f8565b60408082528101610a4181856108ec565b905081810360208301526108b78184610943565b60208101610a0f8284610990565b602080825281016108868184610999565b60408101610a0f82846109ce565b60208101610a0f82846109f8565b60200190565b5190565b600160a060020a031690565b151590565b90565b60005b83811015610ac9578181015183820152602001610ab1565b838111156109f25750506000910152565b601f01601f1916905600a265627a7a723058208b20668c32f855765346ee170fce1c21c5a2aa9fdadbdc2f80a01ecaf734ad6f6c6578706572696d656e74616cf50037', 
  arguments: [Sector.value, Location.value, Number_num.value, RefNum.value, Opening_Date.value]
}).send({
  from: '0x0bf1B7a33fEda16b2EE6d295C22eB3784c7Fd783',
  gas: 3000000,
  gasPrice: '30000000000000'
}).then((newContractInstance) => {
  console.log(newContractInstance.options.address)
})

});
</script>
   

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script> -->
   
</body>
</html>
